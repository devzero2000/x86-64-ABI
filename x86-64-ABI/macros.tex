% All macros

%  First find out if we're running pdftex
\newif\ifpdf

\ifx\pdfoutput\undefined
  \pdffalse
\else
  \pdftrue
\fi

\ifpdf
\pdfcompresslevel 5
\fi

% Times is nicer with pdf
\usepackage{times}
% American style
\usepackage[american]{babel}

\usepackage[T1]{fontenc}

% Generate an index
\usepackage{makeidx}
\makeindex

% Control placement of floats
\usepackage{here}

% Version number of document - increment occasionally ;-)
\newcommand{\version}{0.00}

% Print a footer everywhere with current date
% prelim2e needs \thistime
\newcount\hours
\newcount\minutes
\def\SetTime{\hours=\time
        \global\divide\hours by 60
        \minutes=\hours
        \multiply\minutes by 60
        \advance\minutes by-\time
        \global\multiply\minutes by-1 }
\SetTime
\def\thistime{\number\hours:\ifnum\minutes<10 0\fi\number\minutes}
\usepackage[time]{prelim2e}
\renewcommand{\PrelimWords}{x86-64 ABI Draft \version}

% Some commands:
\newcommand{\editornote}[1]{(\emph{Editor:}\/ #1)}

%Typesetting of registers
\newcommand{\reg}[1]{{\tt{#1}}}
\newcommand{\RAX}{\reg{RAX}}
\newcommand{\RBX}{\reg{RBX}}
\newcommand{\RCX}{\reg{RCX}}
\newcommand{\RDX}{\reg{RDX}}
\newcommand{\RSI}{\reg{RSI}}
\newcommand{\RDI}{\reg{RDI}}
\newcommand{\RBP}{\reg{RBP}}
\newcommand{\RSP}{\reg{RSP}}

%Typesetting of opcodes
\newcommand{\op}[1]{{\tt{#1}}}

%Typesetting common names
\newcommand{\MMX}{\emph{MMX}}

% Use Hyperref for PDF support - this should be last
\ifpdf
\usepackage[pdftex]{hyperref}
\else
\usepackage[dvips]{hyperref}
\fi

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "abi"
%%% End:
