
\chapter{Conventions}

\editornote{This chapter is used to document some features special to
  the \xARCH ABI.  The different sections might be moved to another
  place or removed completely.}


\section{GOT pointer and IP relative addressing}

\index{global offset table}
A basic difference between the i386 ABI and the \xARCH ABI is the
way the GOT table is found.  The i386 ABI, like (most) other processor
specific ABIs, uses a dedicated register (\reg{EBX}) to address the
base of the GOT table.  The function prologue of every function needs
to set up this register to the correct value.  The \xARCH processor
family introduces a new IP-relative addressing mode which is used in
this ABI instead of a using a dedicated register.

On \xARCH the GOT table contains 64 bit entries.

\section{Execution of 32bit programs}

% This is the way ia64 does it.

The \xARCH is able to execute 64 bit \xARCH and also 32 bit ia32
programs.  Libraries and programs conforming to the \xARCH ABI will
live in the normal places like \path{/lib}, \path{/usr/lib} and
\path{/usr/bin}.  Programs following the 32 bit ia32 ABI (known as
i386 ABI), will use \path{ia32} subdirectories for the libraries, e.g
\path{/lib/ia32} and \path{/usr/lib/ia32}.  Binaries will remain in
the same location.  The location of the program interpreter for ia32
binaries is not changed.


\section{C++\label{cpp}}

For the C++ ABI we will use the ia64 C++ ABI and instantiate it
appropriatly.  The current draft of that ABI is available at:\\
\url{http://reality.sgi.com/dehnert_engr/cxx/abi-eh.html}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "abi"
%%% End: 
